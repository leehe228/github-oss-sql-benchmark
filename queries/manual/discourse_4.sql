SELECT posts.* FROM posts INNER JOIN (SELECT topics.id FROM topics LEFT OUTER JOIN topic_users ON topic_users.topic_id = topics.id AND topic_users.user_id = 3287 LEFT OUTER JOIN category_users ON category_users.category_id = topics.category_id AND category_users.user_id = 5904 LEFT OUTER JOIN users ON users.id = topics.user_id WHERE topics.visible IS TRUE AND (topics.category_id IS NULL OR topics.category_id IN (SELECT id FROM categories WHERE NOT read_restricted IS TRUE)) AND topics.closed IS FALSE AND topics.archived IS FALSE AND COALESCE(topic_users.notification_level, 1) <> 3 AND topics.created_at > '2004-01-10T05:23:45' AND topics.created_at < '2004-01-24T07:45:25' AND topics.archetype <> 'regular') x ON x.id = posts.topic_id WHERE posts.created_at > '2004-01-25T04:25:35' ORDER BY posts.created_at ASC;
