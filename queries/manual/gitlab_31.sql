SELECT * FROM (SELECT issues.*, issue_links.id AS issue_links_id FROM issue_links INNER JOIN issues on issue_links.source_id = issues.id WHERE issue_links.target_id = 1153 OR (issue_links.target_id = issues.id AND issue_links.source_id = 1009)) issues WHERE id IN (SELECT issues.id FROM issues WHERE issues.confidential IS NOT TRUE OR (issues.confidential IS TRUE AND (issues.author_id = 7859 OR EXISTS (SELECT TRUE FROM issue_assignees WHERE user_id = 2047 AND issue_id = issues.id) OR issues.project_id IN (2926))) AND issues.project_id IN (SELECT projects.id FROM project_authorizations INNER JOIN projects ON project_authorizations.project_id = projects.id WHERE project_authorizations.user_id = 7683));
